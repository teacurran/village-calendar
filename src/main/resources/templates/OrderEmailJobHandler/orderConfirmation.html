<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmation</title>
    <style>
        {stylesheet}
    </style>
</head>
<body>
    <div class="outer-wrapper">
        <h1>ðŸŽ‰ Thank You for Your Order!</h1>

        <p>Hi {order.user.displayName ?: order.user.email},</p>

        <p>We're excited to confirm that we've received your order for your custom calendar!</p>

        <div class="highlight-box">
            <strong>Order Total: ${order.totalPrice}</strong>
            <p style="margin: 0; color: white;">Order ID: {order.id}</p>
        </div>

        <h2>ðŸ“‹ Order Details</h2>

        <div class="detail-box">
            <strong>Calendar:</strong>
            {order.calendar.name} ({order.calendar.year})
        </div>

        <div class="detail-box">
            <strong>Quantity:</strong>
            {order.quantity} {#if order.quantity > 1}calendars{#else}calendar{/if}
        </div>

        <div class="detail-box">
            <strong>Unit Price:</strong>
            ${order.unitPrice}
        </div>

        <div class="detail-box">
            <strong>Order Date:</strong>
            {order.paidAt ?: order.created}
        </div>

        <h2>ðŸ“¦ Shipping Address</h2>

        {#if order.shippingAddress}
        <div class="shipping-box">
            {#if order.shippingAddress.has('name') && !order.shippingAddress.get('name').isNull()}
            <strong>{order.shippingAddress.get('name').asText()}</strong><br>
            {/if}
            {#if order.shippingAddress.has('line1') && !order.shippingAddress.get('line1').isNull()}
            {order.shippingAddress.get('line1').asText()}<br>
            {/if}
            {#if order.shippingAddress.has('line2') && !order.shippingAddress.get('line2').isNull()}
            {order.shippingAddress.get('line2').asText()}<br>
            {/if}
            {#if order.shippingAddress.has('city') && !order.shippingAddress.get('city').isNull()}
            {order.shippingAddress.get('city').asText()},
            {/if}
            {#if order.shippingAddress.has('state') && !order.shippingAddress.get('state').isNull()}
            {order.shippingAddress.get('state').asText()}
            {/if}
            {#if order.shippingAddress.has('postalCode') && !order.shippingAddress.get('postalCode').isNull()}
            {order.shippingAddress.get('postalCode').asText()}<br>
            {/if}
            {#if order.shippingAddress.has('country') && !order.shippingAddress.get('country').isNull()}
            {order.shippingAddress.get('country').asText()}
            {/if}
        </div>
        {#else}
        <div class="detail-box">
            <em>Shipping address will be confirmed separately.</em>
        </div>
        {/if}

        <h2>ðŸ“… What's Next?</h2>

        <p>Your custom calendar is now in production! Here's what to expect:</p>

        <ul style="color: #374151; font-size: 16px; line-height: 1.8;">
            <li><strong>Processing:</strong> We'll prepare your calendar for printing (1-2 business days)</li>
            <li><strong>Printing:</strong> High-quality printing of your custom design (3-5 business days)</li>
            <li><strong>Shipping:</strong> Your calendar will be carefully packaged and shipped to you</li>
        </ul>

        <p>We'll send you another email with tracking information once your order ships.</p>

        <div style="text-align: center; margin: 30px 0;">
            <a href="https://calendar.villagecompute.com/orders" class="button">View Order Status</a>
        </div>

        <div class="footer">
            <p><strong>Questions?</strong></p>
            <p>Contact us at <a href="mailto:support@villagecompute.com">support@villagecompute.com</a></p>
            <p style="margin-top: 20px;">
                Village Compute Calendar<br>
                <a href="https://calendar.villagecompute.com">calendar.villagecompute.com</a>
            </p>
        </div>
    </div>
</body>
</html>
