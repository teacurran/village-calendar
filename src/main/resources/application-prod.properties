# Production Profile Configuration
# This file contains production-specific overrides

# Production Database Configuration
# MUST be provided via environment variables in production
%prod.quarkus.datasource.jdbc.url=${DB_URL}
%prod.quarkus.datasource.username=${DB_USERNAME}
%prod.quarkus.datasource.password=${DB_PASSWORD}

# Production Hibernate Configuration
# Disable SQL logging in production for performance
%prod.quarkus.hibernate-orm.log.sql=false
%prod.quarkus.hibernate-orm.log.format-sql=false

# Production should NOT auto-update schema (use migrations instead)
%prod.quarkus.hibernate-orm.database.generation=validate

# Production Logging
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."villagecompute.calendar".level=INFO

# Production health checks enabled
%prod.quarkus.smallrye-health.ui.enable=true

# Production mailer - Google Workspace SMTP Relay (no auth required, IP-based)
%prod.quarkus.mailer.mock=false
%prod.quarkus.mailer.host=smtp-relay.gmail.com
%prod.quarkus.mailer.port=587
%prod.quarkus.mailer.start-tls=REQUIRED
%prod.quarkus.mailer.from=Village Compute Calendar <orders@villagecompute.com>

# Production OpenTelemetry - enabled by default, sends to Jaeger collector
%prod.quarkus.otel.sdk.disabled=${QUARKUS_OTEL_SDK_DISABLED:false}
%prod.quarkus.otel.traces.enabled=true
%prod.quarkus.otel.metrics.enabled=true
%prod.quarkus.otel.logs.enabled=true

# OTLP endpoint - Jaeger collector in observability namespace
%prod.quarkus.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT:http://jaeger-collector.observability.svc.cluster.local:4318}
%prod.quarkus.otel.exporter.otlp.protocol=http/protobuf
%prod.quarkus.otel.exporter.otlp.timeout=10s

# Resource attributes for production
%prod.quarkus.otel.resource.attributes=service.name=village-calendar,service.version=1.0.0,deployment.environment=production

# Trace sampling - sample all in production for now
%prod.quarkus.otel.traces.sampler=always_on

# Context propagation
%prod.quarkus.otel.propagators=tracecontext,baggage

# Production OIDC providers should be explicitly configured
%prod.quarkus.oidc.google.enabled=true
%prod.quarkus.oidc.facebook.enabled=false

# Production security headers
%prod.quarkus.http.cors=true
%prod.quarkus.http.cors.origins=${ALLOWED_ORIGINS:https://villagecompute.com}
%prod.quarkus.http.ssl.certificate.key-store-file=${SSL_KEYSTORE_FILE:}
%prod.quarkus.http.ssl.certificate.key-store-password=${SSL_KEYSTORE_PASSWORD:}
